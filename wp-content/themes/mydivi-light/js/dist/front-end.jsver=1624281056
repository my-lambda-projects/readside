!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).LazyLoad=n()}(this,function(){"use strict";function t(){return(t=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}).apply(this,arguments)}var n="undefined"!=typeof window,e=n&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),i=n&&"IntersectionObserver"in window,o=n&&"classList"in document.createElement("p"),a=n&&window.devicePixelRatio>1,r={elements_selector:".lazy",container:e||n?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},s=function(n){return t({},r,n)},c=function(t,n){var e,i="LazyLoad::Initialized",o=new t(n);try{e=new CustomEvent(i,{detail:{instance:o}})}catch(t){(e=document.createEvent("CustomEvent")).initCustomEvent(i,!1,!1,{instance:o})}window.dispatchEvent(e)},l="loading",u="loaded",d="applied",f="error",g="native",h=function(t,n){return t.getAttribute("data-"+n)},_=function(t){return h(t,"ll-status")},b=function(t,n){return function(t,n,e){var i="data-ll-status";null!==e?t.setAttribute(i,e):t.removeAttribute(i)}(t,0,n)},p=function(t){return b(t,null)},v=function(t){return null===_(t)},m=function(t){return _(t)===g},w=[l,u,d,f],E=function(t,n,e,i){t&&(void 0===i?void 0===e?t(n):t(n,e):t(n,e,i))},k=function(t,n){o?t.classList.add(n):t.className+=(t.className?" ":"")+n},L=function(t,n){o?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\s+)"+n+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},y=function(t){return t.llTempImage},I=function(t,n){if(n){var e=n._observer;e&&e.unobserve(t)}},C=function(t,n){t&&(t.loadingCount+=n)},A=function(t,n){t&&(t.toLoadCount=n)},z=function(t){for(var n,e=[],i=0;n=t.children[i];i+=1)"SOURCE"===n.tagName&&e.push(n);return e},O=function(t,n,e){e&&t.setAttribute(n,e)},x=function(t,n){t.removeAttribute(n)},N=function(t){return!!t.llOriginalAttrs},M=function(t){if(!N(t)){var n={};n.src=t.getAttribute("src"),n.srcset=t.getAttribute("srcset"),n.sizes=t.getAttribute("sizes"),t.llOriginalAttrs=n}},T=function(t){if(N(t)){var n=t.llOriginalAttrs;O(t,"src",n.src),O(t,"srcset",n.srcset),O(t,"sizes",n.sizes)}},R=function(t,n){O(t,"sizes",h(t,n.data_sizes)),O(t,"srcset",h(t,n.data_srcset)),O(t,"src",h(t,n.data_src))},G=function(t){x(t,"src"),x(t,"srcset"),x(t,"sizes")},V=function(t,n){var e=t.parentNode;e&&"PICTURE"===e.tagName&&z(e).forEach(n)},j={IMG:function(t,n){V(t,function(t){M(t),R(t,n)}),M(t),R(t,n)},IFRAME:function(t,n){O(t,"src",h(t,n.data_src))},VIDEO:function(t,n){!function(t,e){z(t).forEach(function(t){O(t,"src",h(t,n.data_src))})}(t),O(t,"poster",h(t,n.data_poster)),O(t,"src",h(t,n.data_src)),t.load()}},D=function(t,n){var e=j[t.tagName];e&&e(t,n)},F=function(t,n,e){C(e,1),k(t,n.class_loading),b(t,l),E(n.callback_loading,t,e)},P=["IMG","IFRAME","VIDEO"],S=function(t,n){!n||n.loadingCount>0||n.toLoadCount>0||E(t.callback_finish,n)},H=function(t,n,e){t.addEventListener(n,e),t.llEvLisnrs[n]=e},U=function(t,n,e){t.removeEventListener(n,e)},$=function(t){return!!t.llEvLisnrs},q=function(t){if($(t)){var n=t.llEvLisnrs;for(var e in n){var i=n[e];U(t,e,i)}delete t.llEvLisnrs}},Q=function(t,n,e){!function(t){delete t.llTempImage}(t),C(e,-1),e&&(e.toLoadCount-=1),L(t,n.class_loading),n.unobserve_completed&&I(t,e)},B=function(t,n,e){var i=y(t)||t;$(i)||function(t,n,e){$(t)||(t.llEvLisnrs={});var i="VIDEO"===t.tagName?"loadeddata":"load";H(t,i,n),H(t,"error",e)}(i,function(o){!function(t,n,e,i){var o=m(n);Q(n,e,i),k(n,e.class_loaded),b(n,u),E(e.callback_loaded,n,i),o||S(e,i)}(0,t,n,e),q(i)},function(o){!function(t,n,e,i){var o=m(n);Q(n,e,i),k(n,e.class_error),b(n,f),E(e.callback_error,n,i),o||S(e,i)}(0,t,n,e),q(i)})},J=function(t,n,e){!function(t){return P.indexOf(t.tagName)>-1}(t)?function(t,n,e){!function(t){t.llTempImage=document.createElement("IMG")}(t),B(t,n,e),function(t,n,e){var i=h(t,n.data_bg),o=h(t,n.data_bg_hidpi),r=a&&o?o:i;r&&(t.style.backgroundImage='url("'.concat(r,'")'),y(t).setAttribute("src",r),F(t,n,e))}(t,n,e),function(t,n,e){var i=h(t,n.data_bg_multi),o=h(t,n.data_bg_multi_hidpi),r=a&&o?o:i;r&&(t.style.backgroundImage=r,function(t,n,e){k(t,n.class_applied),b(t,d),n.unobserve_completed&&I(t,n),E(n.callback_applied,t,e)}(t,n,e))}(t,n,e)}(t,n,e):function(t,n,e){B(t,n,e),D(t,n),F(t,n,e)}(t,n,e)},K=["IMG","IFRAME"],W=function(t){return t.use_native&&"loading"in HTMLImageElement.prototype},X=function(t){return Array.prototype.slice.call(t)},Y=function(t){return t.container.querySelectorAll(t.elements_selector)},Z=function(t){return function(t){return _(t)===f}(t)},tt=function(t,n){return function(t){return X(t).filter(v)}(t||Y(n))},nt=function(t,e){var o=s(t);this._settings=o,this.loadingCount=0,function(t,n){i&&!W(t)&&(n._observer=new IntersectionObserver(function(e){!function(t,n,e){t.forEach(function(t){return function(t){return t.isIntersecting||t.intersectionRatio>0}(t)?function(t,n,e,i){b(t,"entered"),k(t,e.class_entered),L(t,e.class_exited),function(t,n,e){n.unobserve_entered&&I(t,e)}(t,e,i),E(e.callback_enter,t,n,i),function(t){return w.indexOf(_(t))>=0}(t)||J(t,e,i)}(t.target,t,n,e):function(t,n,e,i){v(t)||(k(t,e.class_exited),function(t,n,e,i){e.cancel_on_exit&&function(t){return _(t)===l}(t)&&"IMG"===t.tagName&&(q(t),function(t){V(t,function(t){G(t)}),G(t)}(t),function(t){V(t,function(t){T(t)}),T(t)}(t),L(t,e.class_loading),C(i,-1),p(t),E(e.callback_cancel,t,n,i))}(t,n,e,i),E(e.callback_exit,t,n,i))}(t.target,t,n,e)})}(e,t,n)},function(t){return{root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}}(t)))}(o,this),function(t,e){n&&window.addEventListener("online",function(){!function(t,n){var e;(e=Y(t),X(e).filter(Z)).forEach(function(n){L(n,t.class_error),p(n)}),n.update()}(t,e)})}(o,this),this.update(e)};return nt.prototype={update:function(t){var n,o,a=this._settings,r=tt(t,a);A(this,r.length),!e&&i?W(a)?function(t,n,e){r.forEach(function(t){-1!==K.indexOf(t.tagName)&&(t.setAttribute("loading","lazy"),function(t,n,e){B(t,n,e),D(t,n),b(t,g)}(t,n,e))}),A(e,0)}(0,a,this):(o=r,function(t){t.disconnect()}(n=this._observer),function(t,n){o.forEach(function(n){t.observe(n)})}(n)):this.loadAll(r)},destroy:function(){this._observer&&this._observer.disconnect(),Y(this._settings).forEach(function(t){delete t.llOriginalAttrs}),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){var n=this,e=this._settings;tt(t,e).forEach(function(t){I(t,n),J(t,e,n)})}},nt.load=function(t,n){var e=s(n);J(t,e)},nt.resetStatus=function(t){p(t)},n&&function(t,n){if(n)if(n.length)for(var e,i=0;e=n[i];i+=1)c(t,e);else c(t,n)}(nt,window.lazyLoadOptions),nt});var LazyLoad=new LazyLoad;LazyLoad.update(),function(t){var n=t(".back-to-top").offset(),e=t(".block");t(document).scroll(function(){e.each(function(e){var i=t(this).offset().top-t(window).scrollTop();if(i<n.top&&i+t(this).height()>0)return t(".back-to-top").removeClass("has-light-bg has-dark-bg").addClass(t(this).hasClass("has-light-bg")?"has-light-bg":"has-dark-bg"),!1})}),t.fn.isInViewport=function(){var n=t(this).offset().top,e=n+t(this).outerHeight(),i=t(window).scrollTop(),o=i+t(window).height();return e>i&&n<o},t(window).on("resize scroll",function(){t(".block").each(function(){t(this).isInViewport()&&t(".back-to-top").removeClass("has-light-bg has-dark-bg").addClass(t(this).hasClass("has-light-bg")?"has-light-bg":"has-dark-bg")})}),t(window).scroll(function(){t(this).scrollTop()>300?t(".back-to-top").addClass("is-visible"):t(".back-to-top").removeClass("is-visible"),t(this).scrollTop()>1200?t(".back-to-top").addClass("fade-out"):t(".back-to-top").removeClass("fade-out")}),t(function(){})}(jQuery);